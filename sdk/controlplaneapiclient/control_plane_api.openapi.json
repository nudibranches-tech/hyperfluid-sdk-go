{
  "openapi": "3.0.3",
  "info": {
    "title": "Hyperfluid Console API",
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/config": {
      "get": {
        "tags": [
          "Console Config"
        ],
        "operationId": "handle_get_console_config",
        "responses": {
          "200": {
            "description": "Get console configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetConsoleConfigResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/context-providers/{provider_id}": {
      "get": {
        "tags": [
          "Security"
        ],
        "summary": "Get a context provider by ID.",
        "operationId": "get_context_provider_handler",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "description": "Context provider ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextProviderResponse"
                }
              }
            }
          },
          "404": {
            "description": "Provider not found"
          }
        }
      },
      "put": {
        "tags": [
          "Security"
        ],
        "summary": "Update a context provider.",
        "operationId": "update_context_provider_handler",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "description": "Context provider ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContextProviderBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextProviderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "404": {
            "description": "Provider not found"
          }
        }
      },
      "delete": {
        "tags": [
          "Security"
        ],
        "summary": "Delete a context provider.",
        "operationId": "delete_context_provider_handler",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "description": "Context provider ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Provider deleted"
          },
          "404": {
            "description": "Provider not found"
          }
        }
      }
    },
    "/api/v1/context-providers/{provider_id}/sync": {
      "post": {
        "tags": [
          "Security"
        ],
        "summary": "Trigger a manual sync for a context provider.",
        "operationId": "sync_context_provider_handler",
        "parameters": [
          {
            "name": "provider_id",
            "in": "path",
            "description": "Context provider ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Sync initiated"
          },
          "404": {
            "description": "Provider not found"
          }
        }
      }
    },
    "/api/v1/contextual-restrictions/{restriction_id}": {
      "get": {
        "tags": [
          "Security"
        ],
        "summary": "Get a contextual restriction by ID.",
        "operationId": "get_contextual_restriction_handler",
        "parameters": [
          {
            "name": "restriction_id",
            "in": "path",
            "description": "Restriction ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextualRestrictionResponse"
                }
              }
            }
          },
          "404": {
            "description": "Restriction not found"
          }
        }
      },
      "put": {
        "tags": [
          "Security"
        ],
        "summary": "Update a contextual restriction.",
        "operationId": "update_contextual_restriction_handler",
        "parameters": [
          {
            "name": "restriction_id",
            "in": "path",
            "description": "Restriction ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContextualRestrictionBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextualRestrictionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "404": {
            "description": "Restriction not found"
          }
        }
      },
      "delete": {
        "tags": [
          "Security"
        ],
        "summary": "Delete a contextual restriction.",
        "operationId": "delete_contextual_restriction_handler",
        "parameters": [
          {
            "name": "restriction_id",
            "in": "path",
            "description": "Restriction ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Restriction deleted"
          },
          "404": {
            "description": "Restriction not found"
          }
        }
      }
    },
    "/api/v1/data-containers/bucket": {
      "post": {
        "tags": [
          "bucket::create_bucket_data_container"
        ],
        "operationId": "create_bucket_data_container",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBucketDataContainerRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Bucket data container created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataContainerOverview"
                }
              }
            }
          },
          "404": {
            "description": "Data dock not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/bucket/{data_container_id}/files": {
      "get": {
        "tags": [
          "bucket::list_bucket_files"
        ],
        "operationId": "list_bucket_files",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "path",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of files in bucket",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BucketFile"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "bucket::upload_bucket_file"
        ],
        "operationId": "upload_bucket_file",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "File uploaded via multipart form data (fields: file, path, labels)"
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": [
          "bucket::delete_bucket_file"
        ],
        "operationId": "delete_bucket_file",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "path",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "File deleted"
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/bucket/{data_container_id}/files/download": {
      "get": {
        "tags": [
          "bucket::download_bucket_file"
        ],
        "operationId": "download_bucket_file",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "path",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "File downloaded",
            "content": {
              "application/octet-stream": {}
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-containers/bucket/{data_container_id}/folders": {
      "post": {
        "tags": [
          "bucket::create_bucket_folder"
        ],
        "operationId": "create_bucket_folder",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBucketFolderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Folder created"
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-containers/bucket/{data_container_id}/stats": {
      "get": {
        "tags": [
          "bucket::get_bucket_stats"
        ],
        "operationId": "get_bucket_stats",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Bucket statistics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BucketStats"
                }
              }
            }
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/faker/field-types": {
      "get": {
        "tags": [
          "faker::get_field_types"
        ],
        "operationId": "get_faker_field_types",
        "responses": {
          "200": {
            "description": "List of faker field types",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetFakerFieldTypesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/data-containers/faker/{data_container_id}/schemas": {
      "get": {
        "tags": [
          "faker::get_schemas"
        ],
        "operationId": "get_faker_schemas",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of faker schemas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetFakerSchemaResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "faker::create_schema"
        ],
        "operationId": "create_faker_schema",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFakerSchemaRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Faker schema created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FakerSchemaOverview"
                }
              }
            }
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/faker/{data_container_id}/schemas/{schema_id}": {
      "delete": {
        "tags": [
          "faker::delete_schema"
        ],
        "operationId": "delete_faker_schema",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "schema_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Faker schema deleted"
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/faker/{data_container_id}/schemas/{schema_id}/tables": {
      "post": {
        "tags": [
          "faker::create_table"
        ],
        "operationId": "create_faker_table",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "schema_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFakerTableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Faker table created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FakerTableOverview"
                }
              }
            }
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/faker/{data_container_id}/schemas/{schema_id}/tables/structured": {
      "post": {
        "tags": [
          "faker::create_table_structured"
        ],
        "operationId": "create_faker_table_structured",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "schema_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateFakerTableStructuredRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Structured faker table created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FakerTableOverview"
                }
              }
            }
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/faker/{data_container_id}/tables": {
      "get": {
        "tags": [
          "faker::get_tables"
        ],
        "operationId": "get_faker_tables",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of faker tables",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetFakerTablesResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/faker/{data_container_id}/tables/{table_id}": {
      "get": {
        "tags": [
          "faker::get_table"
        ],
        "operationId": "get_faker_table",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "table_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Faker table details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetFakerTableResponse"
                }
              }
            }
          },
          "403": {
            "description": "Data container ID mismatch"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "tags": [
          "faker::update_table"
        ],
        "operationId": "update_faker_table",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "table_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFakerTableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Faker table updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FakerTableOverview"
                }
              }
            }
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": [
          "faker::delete_table"
        ],
        "operationId": "delete_faker_table",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "table_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Faker table deleted"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/iceberg": {
      "post": {
        "tags": [
          "iceberg::create_iceberg_data_container"
        ],
        "operationId": "create_iceberg_data_container",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateIcebergDataContainerRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Iceberg data container created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataContainerOverview"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/iceberg/{data_container_id}": {
      "get": {
        "tags": [
          "iceberg::get_iceberg_data_container"
        ],
        "operationId": "get_iceberg_data_container",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Iceberg data container details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IcebergConnectorDataContainer"
                }
              }
            }
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-containers/iceberg/{data_container_id}/schemas": {
      "get": {
        "tags": [
          "iceberg::get_schemas"
        ],
        "operationId": "get_schemas",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of iceberg schemas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/IcebergSchemaMetadata"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "iceberg::create_schema"
        ],
        "operationId": "create_schema",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMedallionSchemaRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Iceberg schema created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IcebergSchemaMetadata"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/iceberg/{data_container_id}/tables": {
      "get": {
        "tags": [
          "iceberg::get_tables"
        ],
        "operationId": "get_tables",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of iceberg tables",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/IcebergTableResponseData"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "iceberg::create_table"
        ],
        "operationId": "create_table",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateIcebergTableMetadataRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Iceberg table created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IcebergTableMetadata"
                }
              }
            }
          },
          "403": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/iceberg/{data_container_id}/tables/clone": {
      "post": {
        "tags": [
          "crate::hf_console::inbound::http::handlers::data_containers::iceberg::clone_table"
        ],
        "operationId": "clone_table",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CloneIcebergTableRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Table cloned successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          },
          "409": {
            "description": "Table already exists"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-containers/{data_container_id}": {
      "get": {
        "tags": [
          "get_data_container"
        ],
        "operationId": "get_data_container",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Data container details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataContainerOverview"
                }
              }
            }
          },
          "404": {
            "description": "Data container not found"
          }
        }
      },
      "delete": {
        "tags": [
          "handlers"
        ],
        "operationId": "delete_data_container",
        "parameters": [
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Data container deleted"
          },
          "404": {
            "description": "Data container not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-docks/crd": {
      "post": {
        "tags": [],
        "operationId": "create_data_dock_crd",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDataDockRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Data dock CRD successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataDockResponseData"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/crd": {
      "delete": {
        "tags": [],
        "operationId": "delete_data_dock_crd",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Data dock CRD successfully deleted"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/data-containers/{data_container_id}/archive-export": {
      "post": {
        "tags": [
          "archive_export"
        ],
        "operationId": "archive_export_data_container",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArchiveExportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Export data container as zip",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BucketArchiveOperation"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or not a bucket data container"
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/data-containers/{data_container_id}/archive-import": {
      "post": {
        "tags": [
          "archive_import"
        ],
        "operationId": "archive_import_data_container",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArchiveImportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Import data container from zip",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BucketArchiveOperation"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or not a bucket data container"
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/data-containers/{data_container_id}/archive-import/abort-multipart": {
      "post": {
        "tags": [
          "abort_multipart_upload"
        ],
        "operationId": "abort_multipart_upload",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AbortMultipartUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Multipart upload aborted successfully"
          },
          "400": {
            "description": "Invalid request or not a bucket data container"
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/data-containers/{data_container_id}/archive-import/complete-multipart": {
      "post": {
        "tags": [
          "complete_multipart_upload"
        ],
        "operationId": "complete_multipart_upload",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteMultipartUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Multipart upload completed successfully"
          },
          "400": {
            "description": "Invalid request or not a bucket data container"
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/data-containers/{data_container_id}/archive-import/prepare": {
      "post": {
        "tags": [
          "prepare_archive_import"
        ],
        "operationId": "prepare_archive_import",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PrepareArchiveImportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Get presigned upload URL(s) for archive import",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PrepareArchiveImportResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or not a bucket data container"
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/data-containers/{data_container_id}/archive-operations": {
      "get": {
        "tags": [
          "list_archive_operations"
        ],
        "operationId": "list_archive_operations",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "default": 100,
              "nullable": true
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "default": 0,
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List zip operations for data container",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BucketArchiveOperation"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Not a bucket data container"
          },
          "404": {
            "description": "Data container not found"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/data-containers/{data_container_id}/archive-operations/{operation_id}": {
      "get": {
        "tags": [
          "get_archive_operation"
        ],
        "operationId": "get_archive_operation",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "operation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get zip operation details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BucketArchiveOperation"
                }
              }
            }
          },
          "400": {
            "description": "Not a bucket data container"
          },
          "404": {
            "description": "Data container or zip operation not found"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/data-containers/{data_container_id}/archive-operations/{operation_id}/download": {
      "get": {
        "tags": [
          "download_archive_operation"
        ],
        "operationId": "download_archive_operation",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_container_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "operation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "expires_in",
            "in": "query",
            "description": "URL expiration time in seconds (default: 3600, max: 86400)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "default": 3600,
              "minimum": 0,
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get presigned download URL for the archive",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArchiveDownloadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Archive operation is not completed or not an export"
          },
          "404": {
            "description": "Data container or archive operation not found"
          }
        }
      }
    },
    "/api/v1/data-docks/{data_dock_id}/security/settings": {
      "get": {
        "tags": [
          "Security"
        ],
        "summary": "Get datadock security settings.",
        "operationId": "get_data_dock_security_settings_handler",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "description": "DataDock ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataDockSecuritySettingsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Settings not found"
          }
        }
      },
      "put": {
        "tags": [
          "Security"
        ],
        "summary": "Update datadock security settings.",
        "operationId": "update_data_dock_security_settings_handler",
        "parameters": [
          {
            "name": "data_dock_id",
            "in": "path",
            "description": "DataDock ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDataDockSecuritySettingsBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataDockSecuritySettingsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/v1/harbors/{harbor_id}/data-docks": {
      "get": {
        "tags": [],
        "operationId": "list_harbor_data_dock",
        "parameters": [
          {
            "name": "harbor_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List all data docks in a harbor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Harbor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/organizations": {
      "get": {
        "tags": [
          "Organizations"
        ],
        "operationId": "list_organizations",
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "slug",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List organizations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Org"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "shared_secret": []
          }
        ]
      }
    },
    "/api/v1/organizations/crd": {
      "post": {
        "tags": [
          "Organizations"
        ],
        "operationId": "create_organization_crd",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrganizationRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Organization created successfully"
          },
          "400": {
            "description": "Invalid request"
          },
          "409": {
            "description": "Organization already exists"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/name-availability": {
      "get": {
        "tags": [
          "Organizations"
        ],
        "operationId": "check_organization_name_availability",
        "parameters": [
          {
            "name": "slug",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Check organization name availability",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckOrganizationNameAvailabilityResponseData"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}": {
      "get": {
        "tags": [
          "Organizations"
        ],
        "operationId": "get_organization_by_id",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get organization by id",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Org"
                }
              }
            }
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "shared_secret": []
          }
        ]
      }
    },
    "/api/v1/organizations/{organization_id}/api-keys": {
      "get": {
        "tags": [
          "API Keys"
        ],
        "operationId": "list_api_keys",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List API keys for organization",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ApiKeyResponse"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "API Keys"
        ],
        "operationId": "create_api_key",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateApiKeyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "API key created (key shown once)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateApiKeyResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/api-keys/{key_id}": {
      "delete": {
        "tags": [
          "API Keys"
        ],
        "operationId": "revoke_api_key",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "key_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "API key revoked"
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/crd": {
      "delete": {
        "tags": [
          "Organizations"
        ],
        "operationId": "delete_organization_crd",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Organization deleted successfully"
          },
          "404": {
            "description": "Organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/harbors": {
      "get": {
        "tags": [
          "Harbors"
        ],
        "operationId": "list_harbors",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "slug",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List harbors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Harbor"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "shared_secret": []
          }
        ]
      }
    },
    "/api/v1/organizations/{organization_id}/harbors/crd": {
      "post": {
        "tags": [
          "Harbors"
        ],
        "operationId": "create_harbor_crd",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateHarborCrdRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Harbor created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Harbor"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "409": {
            "description": "Harbor already exists"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/harbors/crd/{harbor_slug}": {
      "delete": {
        "tags": [
          "Harbors"
        ],
        "operationId": "delete_harbor_crd",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "harbor_slug",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Harbor deleted successfully"
          },
          "404": {
            "description": "Harbor not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/harbors/{name}/available": {
      "get": {
        "tags": [
          "check_name_availability"
        ],
        "operationId": "check_harbor_name_available",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Harbor name availability",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckNameAvailabilityResponseData"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/model-servings": {
      "get": {
        "tags": [
          "Model Serving"
        ],
        "operationId": "list_model_servings",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List model servings for organization",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ModelServingResponse"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "Model Serving"
        ],
        "operationId": "create_model_serving",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateModelServingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Model serving created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelServingResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/model-servings/{name}": {
      "get": {
        "tags": [
          "Model Serving"
        ],
        "operationId": "get_model_serving",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Model serving details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelServingResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": [
          "Model Serving"
        ],
        "operationId": "delete_model_serving",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Model serving deleted"
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "patch": {
        "tags": [
          "Model Serving"
        ],
        "operationId": "patch_model_serving",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatchModelServingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Model serving updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelServingResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/pipelines": {
      "get": {
        "tags": [
          "Pipelines"
        ],
        "operationId": "list_pipelines",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List pipelines for organization",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PipelineResponseData"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/pipelines/{pipeline_id}": {
      "delete": {
        "tags": [
          "Pipelines"
        ],
        "operationId": "delete_pipeline",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "pipeline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pipeline deleted"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/pipelines/{pipeline_id}/runs": {
      "get": {
        "tags": [
          "Pipelines"
        ],
        "operationId": "list_pipeline_runs",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "pipeline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List all runs for a pipeline",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListRunsResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/pipelines/{pipeline_id}/runs/{run_id}": {
      "get": {
        "tags": [
          "Pipelines"
        ],
        "operationId": "get_pipeline_run",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "pipeline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Get pipeline run by ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetRunResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Run not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/pipelines/{pipeline_id}/trigger": {
      "post": {
        "tags": [
          "Pipelines"
        ],
        "operationId": "trigger_pipeline",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "pipeline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Pipeline triggered"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/service-accounts/crd": {
      "post": {
        "tags": [
          "Service Accounts"
        ],
        "operationId": "create_service_account_crd",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateServiceAccountCrdRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Service account created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccount"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "409": {
            "description": "Service account already exists"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/service-accounts/crd/{client_id}": {
      "put": {
        "tags": [
          "Service Accounts"
        ],
        "operationId": "update_service_account_crd",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateServiceAccountCrdRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Service account CRD updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccount"
                }
              }
            }
          },
          "404": {
            "description": "Service account not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": [
          "Service Accounts"
        ],
        "operationId": "delete_service_account_crd",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "client_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Service account deleted successfully"
          },
          "404": {
            "description": "Service account not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/user-attributes": {
      "get": {
        "tags": [
          "User Attributes"
        ],
        "summary": "List all user attributes for an organization.",
        "description": "Returns all users and their attributes for the specified organization.\nThis is useful for administrative views showing all user access configurations.\nOnly organization viewers and above can access this endpoint.",
        "operationId": "list_org_user_attributes_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "All user attributes in the organization",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgUserAttributesResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/users": {
      "get": {
        "tags": [
          "super::organizations::list_users"
        ],
        "operationId": "list_org_users",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List all users in an organization",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserWithRoles"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "handlers"
        ],
        "operationId": "add_user_to_organization",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddUser"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User added to the organization successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "409": {
            "description": "User already exists in the organization"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/users/{user_id}": {
      "delete": {
        "tags": [
          "handlers"
        ],
        "operationId": "remove_user_from_organization",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "description": "User id to remove",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "User removed from the organization successfully"
          },
          "404": {
            "description": "User or organization not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/users/{user_id}/attributes": {
      "get": {
        "tags": [
          "User Attributes"
        ],
        "summary": "List all attributes for a user in an organization.",
        "description": "Returns all RLS attributes assigned to the user in the specified organization.\nAttributes are in `namespace::value` format (e.g., `region::occitanie`).",
        "operationId": "list_user_attributes_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of user attributes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListUserAttributesResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "User not found"
          }
        }
      },
      "put": {
        "tags": [
          "User Attributes"
        ],
        "summary": "Set all attributes for a user (replaces existing).",
        "description": "Replaces all existing attributes for the user with the provided list.\nAll attributes must be in valid `namespace::value` format.\nOnly organization owners can perform this operation.",
        "operationId": "set_user_attributes_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetUserAttributesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Attributes updated successfully"
          },
          "400": {
            "description": "Invalid attribute format"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "User not found"
          }
        }
      },
      "post": {
        "tags": [
          "User Attributes"
        ],
        "summary": "Add a single attribute to a user.",
        "description": "Adds a new attribute to the user's existing attributes.\nThe attribute must be in valid `namespace::value` format.\nIf the attribute already exists, this is a no-op.\nOnly organization owners can perform this operation.",
        "operationId": "add_user_attribute_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddUserAttributeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Attribute added successfully"
          },
          "400": {
            "description": "Invalid attribute format"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/api/v1/organizations/{organization_id}/users/{user_id}/attributes/{attribute}": {
      "delete": {
        "tags": [
          "User Attributes"
        ],
        "summary": "Remove a single attribute from a user.",
        "description": "Removes the specified attribute from the user.\nThe attribute path parameter must be URL-encoded (e.g., `region%3A%3Aoccitanie`).\nOnly organization owners can perform this operation.",
        "operationId": "remove_user_attribute_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "attribute",
            "in": "path",
            "description": "URL-encoded attribute to remove (e.g., region%3A%3Aoccitanie)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Attribute removed successfully"
          },
          "400": {
            "description": "Invalid URL encoding"
          },
          "403": {
            "description": "Forbidden - insufficient permissions"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/context-providers": {
      "get": {
        "tags": [
          "Security"
        ],
        "summary": "List context providers for an organization.",
        "operationId": "list_context_providers_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListContextProvidersResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Security"
        ],
        "summary": "Create a new context provider.",
        "operationId": "create_context_provider_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateContextProviderBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextProviderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/contextual-restrictions": {
      "get": {
        "tags": [
          "Security"
        ],
        "summary": "List contextual restrictions for an organization.",
        "operationId": "list_contextual_restrictions_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_dock_id",
            "in": "query",
            "description": "Filter by DataDock ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListContextualRestrictionsResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Security"
        ],
        "summary": "Create a new contextual restriction.",
        "operationId": "create_contextual_restriction_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_dock_id",
            "in": "query",
            "description": "DataDock ID (optional for org-level)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateContextualRestrictionBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextualRestrictionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/data-docks/refresh": {
      "post": {
        "tags": [],
        "operationId": "refresh_org_data_docks",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Data docks refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshDataDocksResponse"
                }
              }
            }
          },
          "403": {
            "description": "User not authorized to refresh data docks in this organization"
          },
          "404": {
            "description": "Organization not found"
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/api/v1/orgs/{organization_id}/data-docks/{data_dock_id}/security/effective": {
      "get": {
        "tags": [
          "Security"
        ],
        "summary": "Get effective security settings (org + datadock combined).",
        "operationId": "get_effective_security_settings_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "data_dock_id",
            "in": "path",
            "description": "DataDock ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EffectiveSecuritySettingsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Settings not found"
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/security/settings": {
      "get": {
        "tags": [
          "Security"
        ],
        "summary": "Get organization security settings.",
        "operationId": "get_org_security_settings_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgSecuritySettingsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Settings not found"
          }
        }
      },
      "put": {
        "tags": [
          "Security"
        ],
        "summary": "Update organization security settings.",
        "operationId": "update_org_security_settings_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrgSecuritySettingsBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrgSecuritySettingsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/table-classifications": {
      "get": {
        "tags": [
          "Table Classifications"
        ],
        "summary": "List table classifications for an organization.",
        "operationId": "list_table_classifications_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListTableClassificationsResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Table Classifications"
        ],
        "summary": "Create a new table classification.",
        "operationId": "create_table_classification_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTableClassificationBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TableClassificationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "409": {
            "description": "Classification already exists"
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/table-classifications/ai-classify": {
      "post": {
        "tags": [
          "Table Classifications"
        ],
        "summary": "AI-assisted classification of tables.",
        "operationId": "ai_classify_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AiClassifyRequestBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AiClassifyResponseBody"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/table-classifications/stats": {
      "get": {
        "tags": [
          "Table Classifications"
        ],
        "summary": "Get classification statistics for an organization.",
        "operationId": "get_table_classification_stats_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClassificationStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/table-classifications/{classification_id}": {
      "delete": {
        "tags": [
          "Table Classifications"
        ],
        "summary": "Delete a table classification.",
        "operationId": "delete_table_classification_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "classification_id",
            "in": "path",
            "description": "Classification ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Classification deleted"
          },
          "404": {
            "description": "Classification not found"
          }
        }
      },
      "patch": {
        "tags": [
          "Table Classifications"
        ],
        "summary": "Update a table classification.",
        "operationId": "update_table_classification_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "classification_id",
            "in": "path",
            "description": "Classification ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTableClassificationBody"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TableClassificationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Classification not found"
          }
        }
      }
    },
    "/api/v1/orgs/{organization_id}/users/{user_id}/context": {
      "get": {
        "tags": [
          "Security"
        ],
        "summary": "Get aggregated user context.",
        "operationId": "get_user_context_handler",
        "parameters": [
          {
            "name": "organization_id",
            "in": "path",
            "description": "Organization ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "user_id",
            "in": "path",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserContextResponse"
                }
              }
            }
          },
          "404": {
            "description": "No context found"
          }
        }
      }
    },
    "/api/v1/pipelines": {
      "post": {
        "tags": [
          "Pipelines"
        ],
        "summary": "Creates a pipeline CRD, meant to be called from console",
        "operationId": "create_pipeline",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePipelineRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Pipeline creation initiated"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/refs/count": {
      "get": {
        "tags": [
          "Pipelines"
        ],
        "operationId": "count_refs",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CountRefRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Count of references matching filters",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/refs/list": {
      "get": {
        "tags": [
          "Pipelines"
        ],
        "operationId": "list_refs",
        "parameters": [
          {
            "name": "pipeline_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid",
              "nullable": true
            }
          },
          {
            "name": "pipeline_checksum",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/RefStatus",
              "nullable": true
            }
          },
          {
            "name": "key",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "nullable": true
            }
          },
          {
            "name": "updated_at_before",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            }
          },
          {
            "name": "updated_at_after",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            }
          },
          {
            "name": "lock",
            "in": "query",
            "description": "Whether to lock the references listed",
            "required": false,
            "schema": {
              "type": "boolean",
              "nullable": true
            }
          },
          {
            "name": "locked_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid",
              "nullable": true
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List references matching filters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Ref"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/refs/{key}": {
      "put": {
        "tags": [
          "Pipelines"
        ],
        "operationId": "update_ref",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "description": "Reference key",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRefRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Reference updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ref"
                }
              }
            }
          },
          "404": {
            "description": "Reference not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/unified-catalog": {
      "get": {
        "tags": [],
        "summary": "Get unified catalog of all tables from Trino DataDocks",
        "operationId": "get_unified_catalog",
        "parameters": [
          {
            "name": "harbor_id",
            "in": "query",
            "description": "Optional harbor ID to filter data docks by environment",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid",
              "nullable": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Unified catalog retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnifiedCatalogResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "api_key": []
          }
        ]
      }
    },
    "/api/v1/users": {
      "post": {
        "tags": [
          "handlers"
        ],
        "operationId": "create_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUser"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v2/pipelines": {
      "post": {
        "tags": [
          "Pipelines"
        ],
        "summary": "Creates a pipeline CRD using the new V2 API with discriminated union",
        "operationId": "create_pipeline_v2",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePipelineRequestV2"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Pipeline created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PipelineResponseData"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AbortMultipartUploadRequest": {
        "type": "object",
        "required": [
          "destination_data_container_id",
          "upload_id",
          "bucket",
          "key"
        ],
        "properties": {
          "bucket": {
            "type": "string",
            "description": "The bucket name"
          },
          "destination_data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "The data container where the file was being uploaded"
          },
          "key": {
            "type": "string",
            "description": "The object key in the bucket"
          },
          "upload_id": {
            "type": "string",
            "description": "The S3 multipart upload ID"
          }
        }
      },
      "AddUser": {
        "type": "object",
        "required": [
          "email"
        ],
        "properties": {
          "email": {
            "type": "string"
          }
        }
      },
      "AddUserAttributeRequest": {
        "type": "object",
        "description": "Request to add a single attribute to a user.",
        "required": [
          "attribute"
        ],
        "properties": {
          "attribute": {
            "type": "string",
            "description": "Attribute in `namespace::value` format.\nExample: `\"region::occitanie\"`"
          }
        }
      },
      "AiClassificationResultResponse": {
        "type": "object",
        "description": "Response for AI classification result.",
        "required": [
          "table_fqdn",
          "sensitivity",
          "compliance_tags",
          "confidence",
          "reasoning"
        ],
        "properties": {
          "compliance_tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "confidence": {
            "type": "number",
            "format": "float"
          },
          "reasoning": {
            "type": "string"
          },
          "sensitivity": {
            "$ref": "#/components/schemas/SensitivityLevel"
          },
          "table_fqdn": {
            "type": "string"
          }
        }
      },
      "AiClassifyRequestBody": {
        "type": "object",
        "description": "Request for AI classification.",
        "required": [
          "data_dock_id",
          "table_fqdns"
        ],
        "properties": {
          "data_dock_id": {
            "type": "string",
            "format": "uuid"
          },
          "model_name": {
            "type": "string",
            "description": "Optional model name (defaults to org's configured model)",
            "nullable": true
          },
          "table_fqdns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of fully qualified table names to classify"
          }
        }
      },
      "AiClassifyResponseBody": {
        "type": "object",
        "description": "Response for AI classification operation.",
        "required": [
          "results",
          "classified_count",
          "failed_count"
        ],
        "properties": {
          "classified_count": {
            "type": "integer",
            "minimum": 0
          },
          "failed_count": {
            "type": "integer",
            "minimum": 0
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AiClassificationResultResponse"
            }
          }
        }
      },
      "ApiKeyResponse": {
        "type": "object",
        "required": [
          "id",
          "name",
          "key_prefix",
          "scopes",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "key_prefix": {
            "type": "string"
          },
          "last_used_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ArchiveDownloadResponse": {
        "type": "object",
        "required": [
          "url",
          "expires_in_seconds"
        ],
        "properties": {
          "expires_in_seconds": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "url": {
            "type": "string"
          }
        }
      },
      "ArchiveExportRequest": {
        "type": "object",
        "required": [
          "destination_data_container_id",
          "destination_file_name"
        ],
        "properties": {
          "destination_data_container_id": {
            "type": "string",
            "format": "uuid"
          },
          "destination_file_name": {
            "type": "string"
          },
          "destination_file_path": {
            "type": "string",
            "nullable": true
          },
          "prefix": {
            "type": "string",
            "nullable": true
          },
          "strip_prefix": {
            "type": "boolean",
            "description": "Whether to strip the prefix from file paths in the archive",
            "nullable": true
          }
        }
      },
      "ArchiveFileType": {
        "type": "string",
        "enum": [
          "application/zip"
        ]
      },
      "ArchiveImportRequest": {
        "type": "object",
        "required": [
          "destination_data_container_id",
          "file_path"
        ],
        "properties": {
          "deduping_strategy": {
            "$ref": "#/components/schemas/DedupingStrategy",
            "nullable": true
          },
          "destination_data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "The bucket where the zip file is stored"
          },
          "file_path": {
            "type": "string",
            "description": "The full path to the uploaded file (from prepare_archive_import response)"
          },
          "prefix": {
            "type": "string",
            "description": "Optional prefix where files will be extracted in the target bucket",
            "nullable": true
          }
        }
      },
      "ArchiveOperationStatus": {
        "type": "string",
        "enum": [
          "pending",
          "processing",
          "completed",
          "failed"
        ]
      },
      "ArchiveOperationType": {
        "type": "string",
        "enum": [
          "import",
          "export"
        ]
      },
      "BucketArchiveOperation": {
        "type": "object",
        "required": [
          "id",
          "data_container_id",
          "organization_id",
          "operation_type",
          "status",
          "file_name",
          "file_type",
          "strip_prefix",
          "destination_data_container_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "The data container to import to/export from"
          },
          "deduping_strategy": {
            "$ref": "#/components/schemas/DedupingStrategy",
            "nullable": true
          },
          "destination_data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "The data container where the files will be extracted to when importing\nor where the files will be extracted from when exporting"
          },
          "error_message": {
            "type": "string",
            "nullable": true
          },
          "file_name": {
            "type": "string",
            "description": "The name of the archive file"
          },
          "file_path": {
            "type": "string",
            "description": "The path of the archive file",
            "nullable": true
          },
          "file_size": {
            "type": "integer",
            "format": "int64",
            "description": "The size of the archive file",
            "nullable": true
          },
          "file_type": {
            "$ref": "#/components/schemas/ArchiveFileType"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "operation_type": {
            "$ref": "#/components/schemas/ArchiveOperationType"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "prefix": {
            "type": "string",
            "description": "If the operation is an import, the prefix to add to all files when extracting the archive\nIf the operation is an export, the prefix to filter which files to include in the export (only files matching this prefix will be exported)",
            "nullable": true
          },
          "status": {
            "$ref": "#/components/schemas/ArchiveOperationStatus"
          },
          "strip_prefix": {
            "type": "boolean",
            "description": "Whether to strip the prefix from file paths when creating the archive (export only)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "BucketFile": {
        "type": "object",
        "required": [
          "name",
          "path",
          "is_folder"
        ],
        "properties": {
          "is_folder": {
            "type": "boolean"
          },
          "last_modified": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "size": {
            "type": "integer",
            "format": "int64",
            "minimum": 0,
            "nullable": true
          }
        }
      },
      "BucketStats": {
        "type": "object",
        "required": [
          "totalFiles",
          "totalFolders",
          "totalSize"
        ],
        "properties": {
          "lastModified": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "totalFiles": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "totalFolders": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          },
          "totalSize": {
            "type": "integer",
            "format": "int64",
            "minimum": 0
          }
        }
      },
      "CategoryRouterConfig": {
        "type": "object",
        "description": "Category router configuration (CategoryRouterMetadataAware step)",
        "properties": {
          "default_category": {
            "type": "string",
            "description": "Default category if no label matches (e.g., \"inconnu\")",
            "nullable": true
          },
          "prefix_regex": {
            "type": "string",
            "description": "Regex to extract prefix from source path (single capture group)\nExample: \"(condominium-\\\\d+)/\"",
            "nullable": true
          }
        }
      },
      "CheckNameAvailabilityResponseData": {
        "type": "object",
        "required": [
          "available"
        ],
        "properties": {
          "available": {
            "type": "boolean"
          }
        }
      },
      "CheckOrganizationNameAvailabilityResponseData": {
        "type": "object",
        "required": [
          "available"
        ],
        "properties": {
          "available": {
            "type": "boolean"
          }
        }
      },
      "ClassificationConfig": {
        "type": "object",
        "description": "Classification configuration for AI processing",
        "required": [
          "api_key",
          "model_name",
          "labels"
        ],
        "properties": {
          "api_key": {
            "type": "string",
            "format": "password",
            "description": "API key for the AI model (e.g., Mistral)"
          },
          "labels": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LabelDefinition"
            },
            "description": "Document classification labels"
          },
          "model_name": {
            "type": "string",
            "description": "Model name (e.g., \"mistral-large-latest\")"
          }
        }
      },
      "ClassificationStatsResponse": {
        "type": "object",
        "description": "Response for classification statistics.",
        "required": [
          "total_tables",
          "classified_count",
          "public_count",
          "internal_count",
          "confidential_count",
          "restricted_count",
          "pii_count",
          "phi_count",
          "pci_count",
          "financial_count",
          "legal_count",
          "ai_classified_count",
          "manual_classified_count"
        ],
        "properties": {
          "ai_classified_count": {
            "type": "integer",
            "format": "int64"
          },
          "classified_count": {
            "type": "integer",
            "format": "int64"
          },
          "confidential_count": {
            "type": "integer",
            "format": "int64"
          },
          "financial_count": {
            "type": "integer",
            "format": "int64"
          },
          "internal_count": {
            "type": "integer",
            "format": "int64"
          },
          "legal_count": {
            "type": "integer",
            "format": "int64"
          },
          "manual_classified_count": {
            "type": "integer",
            "format": "int64"
          },
          "pci_count": {
            "type": "integer",
            "format": "int64"
          },
          "phi_count": {
            "type": "integer",
            "format": "int64"
          },
          "pii_count": {
            "type": "integer",
            "format": "int64"
          },
          "public_count": {
            "type": "integer",
            "format": "int64"
          },
          "restricted_count": {
            "type": "integer",
            "format": "int64"
          },
          "total_tables": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "CloneIcebergTableRequestBody": {
        "type": "object",
        "required": [
          "source_schema_name",
          "source_table_name",
          "target_schema_name",
          "target_table_name"
        ],
        "properties": {
          "source_schema_name": {
            "type": "string"
          },
          "source_table_name": {
            "type": "string"
          },
          "target_schema_name": {
            "type": "string"
          },
          "target_table_name": {
            "type": "string"
          }
        }
      },
      "CompleteMultipartUploadRequest": {
        "type": "object",
        "required": [
          "destination_data_container_id",
          "upload_id",
          "bucket",
          "key",
          "parts"
        ],
        "properties": {
          "bucket": {
            "type": "string",
            "description": "The bucket name"
          },
          "destination_data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "The data container where the file is being uploaded"
          },
          "key": {
            "type": "string",
            "description": "The object key in the bucket"
          },
          "parts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CompletedPartInfo"
            },
            "description": "List of completed parts with their ETags"
          },
          "upload_id": {
            "type": "string",
            "description": "The S3 multipart upload ID"
          }
        }
      },
      "CompletedPartInfo": {
        "type": "object",
        "description": "Information about a completed part, used when finalizing multipart upload",
        "required": [
          "part_number",
          "e_tag"
        ],
        "properties": {
          "e_tag": {
            "type": "string",
            "description": "ETag returned by S3 after uploading the part"
          },
          "part_number": {
            "type": "integer",
            "format": "int32",
            "description": "Part number (1-indexed as per S3 API)"
          }
        }
      },
      "ConsoleConfigFeatureFlag": {
        "type": "string",
        "enum": [
          "show_demo_banner",
          "vauban_preview"
        ]
      },
      "ContextProviderResponse": {
        "type": "object",
        "description": "Response for a context provider.",
        "required": [
          "id",
          "organization_id",
          "name",
          "provider_type",
          "sync_interval_seconds",
          "enabled",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "enabled": {
            "type": "boolean"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "last_sync_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "last_sync_error": {
            "type": "string",
            "nullable": true
          },
          "last_sync_status": {
            "type": "string",
            "nullable": true
          },
          "last_sync_user_count": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "provider_type": {
            "type": "string"
          },
          "sync_interval_seconds": {
            "type": "integer",
            "format": "int32"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ContextualRestrictionResponse": {
        "type": "object",
        "description": "Response for a contextual restriction.",
        "required": [
          "id",
          "organization_id",
          "name",
          "data_selector",
          "user_requirement",
          "enabled",
          "priority",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "data_dock_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "data_selector": {},
          "description": {
            "type": "string",
            "nullable": true
          },
          "enabled": {
            "type": "boolean"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "priority": {
            "type": "integer",
            "format": "int32"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "user_requirement": {}
        }
      },
      "CopyDestinationConfig": {
        "type": "object",
        "description": "Copy pipeline destination configuration (S3 bucket)",
        "required": [
          "data_container_id"
        ],
        "properties": {
          "data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "Data Container ID for the destination bucket (DataDock is resolved automatically)"
          },
          "destination_prefix": {
            "type": "string",
            "description": "Optional prefix path within the destination bucket",
            "nullable": true
          }
        }
      },
      "CopyOutputParameters": {
        "type": "object",
        "description": "Copy pipeline output configuration - S3 destination for imported files",
        "required": [
          "destination_dd",
          "destination_bucket_id"
        ],
        "properties": {
          "destination_bucket_id": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the destination bucket Data Container"
          },
          "destination_dd": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the destination MinIO Data Dock"
          },
          "destination_prefix": {
            "type": "string",
            "description": "Optional prefix path within the destination bucket",
            "nullable": true
          }
        }
      },
      "CopyS3SourceConfig": {
        "type": "object",
        "description": "S3 source configuration for S3-to-S3 copy",
        "required": [
          "data_container_id"
        ],
        "properties": {
          "data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "Data Container ID for the source S3 bucket (DataDock is resolved automatically)"
          },
          "source_prefix": {
            "type": "string",
            "description": "Optional prefix to filter source files (stripped during copy)",
            "nullable": true
          }
        }
      },
      "CopySourceConfig": {
        "type": "object",
        "description": "Copy pipeline source configuration (Import API)",
        "required": [
          "import_api_url",
          "import_api_key"
        ],
        "properties": {
          "import_api_key": {
            "type": "string",
            "format": "password",
            "description": "Import API Key for authentication"
          },
          "import_api_url": {
            "type": "string",
            "description": "Import API URL (source endpoint)"
          }
        }
      },
      "CountRefRequest": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "nullable": true
          },
          "locked": {
            "type": "boolean",
            "nullable": true
          },
          "status": {
            "$ref": "#/components/schemas/RefStatus",
            "nullable": true
          },
          "updated_at_after": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "updated_at_before": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "CreateApiKeyRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "expires_in_days": {
            "type": "integer",
            "format": "int32",
            "minimum": 0,
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CreateApiKeyResponse": {
        "type": "object",
        "required": [
          "id",
          "name",
          "key",
          "key_prefix",
          "scopes",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "key": {
            "type": "string"
          },
          "key_prefix": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CreateBucketDataContainerRequestBody": {
        "type": "object",
        "required": [
          "data_dock_id",
          "name"
        ],
        "properties": {
          "data_dock_id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "CreateBucketFolderRequest": {
        "type": "object",
        "required": [
          "path"
        ],
        "properties": {
          "path": {
            "type": "string"
          }
        }
      },
      "CreateContextProviderBody": {
        "type": "object",
        "description": "Request to create a context provider.",
        "required": [
          "name",
          "provider_type",
          "config"
        ],
        "properties": {
          "config": {
            "description": "Configuration JSON based on provider type"
          },
          "enabled": {
            "type": "boolean",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "provider_type": {
            "type": "string",
            "description": "Provider type: \"csv\" or \"http_api\""
          },
          "sync_interval_seconds": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "CreateContextualRestrictionBody": {
        "type": "object",
        "description": "Request to create a contextual restriction.",
        "required": [
          "name",
          "data_selector",
          "user_requirement"
        ],
        "properties": {
          "data_selector": {},
          "description": {
            "type": "string",
            "nullable": true
          },
          "enabled": {
            "type": "boolean",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "priority": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "user_requirement": {}
        }
      },
      "CreateCopyPipelineRequest": {
        "type": "object",
        "description": "Copy pipeline request: Import API source  S3 destination",
        "required": [
          "pipeline",
          "source",
          "destination"
        ],
        "properties": {
          "destination": {
            "$ref": "#/components/schemas/CopyDestinationConfig"
          },
          "pipeline": {
            "$ref": "#/components/schemas/PipelineMetadata"
          },
          "source": {
            "$ref": "#/components/schemas/CopySourceConfig"
          }
        }
      },
      "CreateDataDockRequestBody": {
        "type": "object",
        "required": [
          "harbor_id",
          "name",
          "slug",
          "connection_kind"
        ],
        "properties": {
          "connection_kind": {
            "$ref": "#/components/schemas/DataDockKindRequest"
          },
          "harbor_id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          }
        }
      },
      "CreateFakerSchemaRequest": {
        "type": "object",
        "required": [
          "name",
          "description"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "CreateFakerTableRequest": {
        "type": "object",
        "required": [
          "name",
          "sql_request"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "sql_request": {
            "type": "string"
          }
        }
      },
      "CreateFakerTableStructuredRequest": {
        "type": "object",
        "required": [
          "table_name",
          "fields"
        ],
        "properties": {
          "fields": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FakerTableFields"
            }
          },
          "table_name": {
            "type": "string"
          }
        }
      },
      "CreateFileRouterPipelineRequest": {
        "type": "object",
        "description": "FileRouter pipeline request",
        "required": [
          "pipeline",
          "source",
          "routing_rules"
        ],
        "properties": {
          "default_route": {
            "$ref": "#/components/schemas/DestinationConfig",
            "nullable": true
          },
          "pipeline": {
            "$ref": "#/components/schemas/PipelineMetadata"
          },
          "routing_rules": {
            "type": "object",
            "description": "Routing rules: label -> list of destinations",
            "additionalProperties": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/DestinationConfig"
              }
            }
          },
          "source": {
            "$ref": "#/components/schemas/FileSorterSourceConfig"
          }
        }
      },
      "CreateFileSorterRequest": {
        "type": "object",
        "description": "FileSorter pipeline request with semantic groupings",
        "required": [
          "pipeline",
          "source",
          "classification",
          "metadata_storage",
          "destination",
          "routing"
        ],
        "properties": {
          "classification": {
            "$ref": "#/components/schemas/ClassificationConfig"
          },
          "destination": {
            "$ref": "#/components/schemas/FileSorterDestinationConfig"
          },
          "metadata_storage": {
            "$ref": "#/components/schemas/MetadataStorageConfig"
          },
          "pipeline": {
            "$ref": "#/components/schemas/PipelineMetadata"
          },
          "routing": {
            "$ref": "#/components/schemas/FileSorterRoutingConfig"
          },
          "source": {
            "$ref": "#/components/schemas/FileSorterSourceConfig"
          }
        }
      },
      "CreateHarborCrdRequestBody": {
        "type": "object",
        "required": [
          "name",
          "slug"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          }
        }
      },
      "CreateIcebergDataContainerRequestBody": {
        "type": "object",
        "required": [
          "data_dock_id",
          "name",
          "storage_data_dock_id",
          "s3_bucket"
        ],
        "properties": {
          "data_dock_id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "s3_bucket": {
            "type": "string"
          },
          "storage_data_dock_id": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "CreateIcebergTableMetadataRequest": {
        "type": "object",
        "description": "Request to create Iceberg table metadata",
        "required": [
          "schema_id",
          "table_name",
          "description",
          "ddl_statement"
        ],
        "properties": {
          "ddl_statement": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "schema_id": {
            "type": "string",
            "format": "uuid"
          },
          "table_name": {
            "type": "string"
          }
        }
      },
      "CreateMedallionSchemaRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "cdc_enabled": {
            "type": "boolean",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "tier": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CreateModelServingRequest": {
        "type": "object",
        "required": [
          "display_name",
          "model_id",
          "runtime",
          "model_type"
        ],
        "properties": {
          "display_name": {
            "type": "string",
            "description": "Human-readable display name"
          },
          "gpu": {
            "type": "integer",
            "format": "int32",
            "description": "GPU count",
            "minimum": 0
          },
          "max_model_len": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum model context length (optional, for generation models)",
            "minimum": 0,
            "nullable": true
          },
          "memory": {
            "type": "string",
            "description": "Memory request (e.g. \"8Gi\")"
          },
          "model_id": {
            "type": "string",
            "description": "Model identifier (e.g. \"meta-llama/Llama-3.1-8B-Instruct\")"
          },
          "model_type": {
            "$ref": "#/components/schemas/ModelType"
          },
          "runtime": {
            "$ref": "#/components/schemas/ModelRuntime"
          }
        }
      },
      "CreateOrganizationRequestBody": {
        "type": "object",
        "required": [
          "name",
          "slug"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          }
        }
      },
      "CreatePipelineRequest": {
        "type": "object",
        "required": [
          "pipeline",
          "input",
          "output"
        ],
        "properties": {
          "input": {
            "$ref": "#/components/schemas/PipelineInputParameters"
          },
          "output": {
            "$ref": "#/components/schemas/PipelineOutputParameters"
          },
          "pipeline": {
            "$ref": "#/components/schemas/PipelineParameters"
          }
        }
      },
      "CreatePipelineRequestV2": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/CreateFileSorterRequest"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "file_sorter"
                    ]
                  }
                }
              }
            ],
            "description": "FileSorter: PDF OCR + Classification + Routing"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/CreateTrinoPipelineRequest"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "trino"
                    ]
                  }
                }
              }
            ],
            "description": "Trino-based pipelines: Markitdown, HephaistosPdfeed, Labelizer"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/CreateFileRouterPipelineRequest"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "file_router"
                    ]
                  }
                }
              }
            ],
            "description": "FileRouter: S3-to-S3 routing based on labels"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/CreateCopyPipelineRequest"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "copy"
                    ]
                  }
                }
              }
            ],
            "description": "Copy: Import API source  S3 destination"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/CreateS3CopyPipelineRequest"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "s3_copy"
                    ]
                  }
                }
              }
            ],
            "description": "S3Copy: S3 source  S3 destination"
          }
        ],
        "description": "Discriminated union for pipeline creation requests"
      },
      "CreateS3CopyPipelineRequest": {
        "type": "object",
        "description": "S3-to-S3 copy pipeline request",
        "required": [
          "pipeline",
          "source",
          "destination"
        ],
        "properties": {
          "destination": {
            "$ref": "#/components/schemas/CopyDestinationConfig"
          },
          "pipeline": {
            "$ref": "#/components/schemas/PipelineMetadata"
          },
          "source": {
            "$ref": "#/components/schemas/CopyS3SourceConfig"
          }
        }
      },
      "CreateServiceAccountCrdRequestBody": {
        "type": "object",
        "required": [
          "client_id"
        ],
        "properties": {
          "client_id": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CreateTableClassificationBody": {
        "type": "object",
        "description": "Request to create a table classification.",
        "required": [
          "data_dock_id",
          "table_fqdn",
          "sensitivity"
        ],
        "properties": {
          "compliance_tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "data_dock_id": {
            "type": "string",
            "format": "uuid"
          },
          "sensitivity": {
            "$ref": "#/components/schemas/SensitivityLevel"
          },
          "table_fqdn": {
            "type": "string",
            "description": "Fully qualified table name: \"catalog.schema.table\""
          }
        }
      },
      "CreateTrinoPipelineRequest": {
        "type": "object",
        "description": "Trino-based pipeline request (Markitdown, HephaistosPdfeed, Labelizer)",
        "required": [
          "pipeline_type",
          "pipeline",
          "source",
          "metadata_storage"
        ],
        "properties": {
          "classification": {
            "$ref": "#/components/schemas/ClassificationConfig",
            "nullable": true
          },
          "metadata_storage": {
            "$ref": "#/components/schemas/MetadataStorageConfig"
          },
          "pipeline": {
            "$ref": "#/components/schemas/PipelineMetadata"
          },
          "pipeline_type": {
            "$ref": "#/components/schemas/PipelineType"
          },
          "source": {
            "$ref": "#/components/schemas/FileSorterSourceConfig"
          }
        }
      },
      "CreateUser": {
        "type": "object",
        "required": [
          "email",
          "first_name",
          "last_name",
          "oauth_id"
        ],
        "properties": {
          "email": {
            "type": "string"
          },
          "first_name": {
            "type": "string"
          },
          "last_name": {
            "type": "string"
          },
          "oauth_id": {
            "type": "string",
            "format": "uuid"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          }
        }
      },
      "DataContainerOverview": {
        "type": "object",
        "description": "A summary of a data container",
        "required": [
          "id",
          "data_dock_id",
          "name",
          "kind"
        ],
        "properties": {
          "data_dock_id": {
            "type": "string",
            "format": "uuid"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "kind": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "DataDockKindRequest": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "content",
              "type"
            ],
            "properties": {
              "content": {
                "$ref": "#/components/schemas/TrinoConfigRequest"
              },
              "type": {
                "type": "string",
                "enum": [
                  "Trino"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "content",
              "type"
            ],
            "properties": {
              "content": {
                "$ref": "#/components/schemas/TrinoInternalConfig"
              },
              "type": {
                "type": "string",
                "enum": [
                  "TrinoInternal"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "content",
              "type"
            ],
            "properties": {
              "content": {
                "$ref": "#/components/schemas/MinioInternalConfig"
              },
              "type": {
                "type": "string",
                "enum": [
                  "MinioInternal"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "content",
              "type"
            ],
            "properties": {
              "content": {
                "$ref": "#/components/schemas/PostgresInternalConfig"
              },
              "type": {
                "type": "string",
                "enum": [
                  "PostgresInternal"
                ]
              }
            }
          }
        ]
      },
      "DataDockKindResponse": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "content",
              "type"
            ],
            "properties": {
              "content": {
                "$ref": "#/components/schemas/TrinoConfigResponse"
              },
              "type": {
                "type": "string",
                "enum": [
                  "Trino"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "content",
              "type"
            ],
            "properties": {
              "content": {
                "$ref": "#/components/schemas/TrinoInternalConfigResponse"
              },
              "type": {
                "type": "string",
                "enum": [
                  "TrinoInternal"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "content",
              "type"
            ],
            "properties": {
              "content": {
                "$ref": "#/components/schemas/MinioInternalConfigResponse"
              },
              "type": {
                "type": "string",
                "enum": [
                  "MinioInternal"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "content",
              "type"
            ],
            "properties": {
              "content": {
                "$ref": "#/components/schemas/PostgresInternalConfigResponse"
              },
              "type": {
                "type": "string",
                "enum": [
                  "PostgresInternal"
                ]
              }
            }
          }
        ]
      },
      "DataDockResponseData": {
        "type": "object",
        "required": [
          "id",
          "harbor_id",
          "name",
          "slug",
          "description",
          "connection_kind",
          "host",
          "port",
          "refresh_interval",
          "status"
        ],
        "properties": {
          "connection_kind": {
            "$ref": "#/components/schemas/DataDockKindResponse"
          },
          "description": {
            "type": "string"
          },
          "harbor_id": {
            "type": "string",
            "format": "uuid"
          },
          "host": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "port": {
            "type": "integer",
            "format": "int32"
          },
          "refresh_interval": {
            "type": "integer",
            "format": "int32"
          },
          "refreshed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "slug": {
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/DataDockStatus"
          }
        }
      },
      "DataDockSecuritySettingsResponse": {
        "type": "object",
        "description": "Response for datadock security settings.",
        "required": [
          "data_dock_id",
          "read_only_mode",
          "sensitivity_enforcement",
          "table_label_matching",
          "column_label_matching",
          "rls_enabled_catalogs",
          "rls_enabled_schemas",
          "rls_enabled_tables",
          "rls_label_column",
          "contextual_restrictions_enabled",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "column_label_matching": {
            "type": "boolean"
          },
          "contextual_restrictions_enabled": {
            "type": "boolean"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "data_dock_id": {
            "type": "string",
            "format": "uuid"
          },
          "office_hours_enabled": {
            "type": "boolean",
            "nullable": true
          },
          "read_only_mode": {
            "type": "boolean"
          },
          "rls_enabled_catalogs": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rls_enabled_schemas": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rls_enabled_tables": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rls_label_column": {
            "type": "string"
          },
          "sensitivity_enforcement": {
            "type": "boolean"
          },
          "table_label_matching": {
            "type": "boolean"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "DataDockStatus": {
        "type": "string",
        "enum": [
          "Offline",
          "Online",
          "Pending",
          "Sleeping"
        ]
      },
      "DedupingStrategy": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "Suffix"
            ],
            "properties": {
              "Suffix": {
                "$ref": "#/components/schemas/Sha256HashDedupingStrategy"
              }
            }
          }
        ]
      },
      "DestinationConfig": {
        "type": "object",
        "description": "Configuration for a FileRouter destination\nAllows routing to different Data Docks with specific prefixes",
        "required": [
          "data_dock_id",
          "bucket_id",
          "prefix"
        ],
        "properties": {
          "bucket_id": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the bucket Data Container within the destination data dock"
          },
          "data_dock_id": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the destination Data Dock (S3)"
          },
          "prefix": {
            "type": "string",
            "description": "Prefix path within the destination bucket (e.g., \"invoices/processed/\")"
          }
        }
      },
      "EffectiveSecuritySettingsResponse": {
        "type": "object",
        "description": "Response for effective security settings.",
        "required": [
          "office_hours_enabled",
          "zero_trust_mode",
          "read_only_mode",
          "sensitivity_enforcement",
          "table_label_matching",
          "column_label_matching",
          "rls_enabled_catalogs",
          "rls_enabled_schemas",
          "rls_enabled_tables",
          "rls_label_column",
          "contextual_restrictions_enabled"
        ],
        "properties": {
          "column_label_matching": {
            "type": "boolean"
          },
          "contextual_restrictions_enabled": {
            "type": "boolean"
          },
          "office_hours_enabled": {
            "type": "boolean"
          },
          "office_hours_end_utc": {
            "type": "string",
            "nullable": true
          },
          "office_hours_start_utc": {
            "type": "string",
            "nullable": true
          },
          "read_only_mode": {
            "type": "boolean"
          },
          "rls_enabled_catalogs": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rls_enabled_schemas": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rls_enabled_tables": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rls_label_column": {
            "type": "string"
          },
          "sensitivity_enforcement": {
            "type": "boolean"
          },
          "table_label_matching": {
            "type": "boolean"
          },
          "zero_trust_mode": {
            "type": "boolean"
          }
        }
      },
      "FakerFieldType": {
        "type": "object",
        "required": [
          "name",
          "description",
          "field_type",
          "category"
        ],
        "properties": {
          "category": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "field_type": {
            "type": "string"
          },
          "generator": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string"
          }
        }
      },
      "FakerSchemaOverview": {
        "type": "object",
        "required": [
          "id",
          "name",
          "data_container_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "data_container_id": {
            "type": "string",
            "format": "uuid"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "FakerTableFieldOptions": {
        "type": "object",
        "properties": {
          "blank": {
            "type": "number",
            "format": "float",
            "nullable": true
          }
        }
      },
      "FakerTableFields": {
        "type": "object",
        "required": [
          "name",
          "field_type"
        ],
        "properties": {
          "field_type": {
            "type": "string"
          },
          "generator": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "options": {
            "$ref": "#/components/schemas/FakerTableFieldOptions",
            "nullable": true
          }
        }
      },
      "FakerTableOverview": {
        "type": "object",
        "required": [
          "id",
          "name",
          "data_container_id",
          "fields",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "data_container_id": {
            "type": "string",
            "format": "uuid"
          },
          "fields": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FakerTableFields"
            }
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "raw_sql": {
            "type": "string",
            "nullable": true
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "FakerTableTemplate": {
        "type": "object",
        "required": [
          "name",
          "fields"
        ],
        "properties": {
          "fields": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TemplateFakerField"
            }
          },
          "name": {
            "type": "string"
          }
        }
      },
      "FileSorterDestinationConfig": {
        "type": "object",
        "description": "FileSorter destination configuration (S3 bucket for sorted files)",
        "properties": {
          "base_prefix": {
            "type": "string",
            "description": "Base prefix for sorted files",
            "nullable": true
          },
          "data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "Data Container ID for the destination bucket (null = use source bucket)",
            "nullable": true
          }
        }
      },
      "FileSorterOutputParameters": {
        "type": "object",
        "description": "FileSorter output configuration - combines 3 steps:\nHephaistosPdfeed -> Labelize -> CategoryRouterMetadataAware",
        "required": [
          "dd_trino_int",
          "dc_iceberg_id",
          "trino_schema",
          "trino_table",
          "model_api_key",
          "model_name",
          "labels_yaml",
          "router"
        ],
        "properties": {
          "dc_iceberg_id": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the Iceberg catalog Data Container"
          },
          "dd_trino_int": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the Trino Data Dock for metadata storage"
          },
          "destination_bucket_id": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the destination bucket Data Container for sorted files",
            "nullable": true
          },
          "destination_prefix": {
            "type": "string",
            "description": "Destination prefix for sorted files",
            "nullable": true
          },
          "destination_s3_dd": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the destination S3 Data Dock for sorted files",
            "nullable": true
          },
          "labels_yaml": {
            "type": "string",
            "description": "Labels for document classification in YAML format.\nSupports both static and dynamic labels with placeholders.\n\nExample:\n```yaml\n- id: facture_eau\n  type: static\n  description: \"Water utility invoices\"\n- id: travaux\n  type: dynamic\n  description: \"Construction work documents\"\n  format: \"TRAVAUX/{year}/{date}\"\n  placeholders:\n    - id: year\n      source: \"Extract the year\"\n      format: \"YYYY\"\n```"
          },
          "model_api_key": {
            "type": "string",
            "format": "password",
            "description": "Mistral API key for OCR and classification"
          },
          "model_name": {
            "type": "string",
            "description": "Model name (e.g., \"mistral-medium\", \"mistral-large-latest\")"
          },
          "router": {
            "$ref": "#/components/schemas/CategoryRouterConfig"
          },
          "source_file_connection_id": {
            "type": "string",
            "description": "Source S3 connection ID for router (references input.dd_minio)",
            "nullable": true
          },
          "trino_schema": {
            "type": "string",
            "description": "Trino schema name"
          },
          "trino_table": {
            "type": "string",
            "description": "Trino table name for metadata"
          },
          "unknown_placeholder_value": {
            "type": "string",
            "description": "Value to use when a placeholder cannot be extracted (default: \"unknown\")"
          }
        }
      },
      "FileSorterRoutingConfig": {
        "type": "object",
        "description": "FileSorter routing configuration",
        "properties": {
          "default_category": {
            "type": "string",
            "description": "Default category if no label matches",
            "nullable": true
          },
          "source_prefix_regex": {
            "type": "string",
            "description": "Regex to extract prefix from source path (single capture group)",
            "nullable": true
          }
        }
      },
      "FileSorterSourceConfig": {
        "type": "object",
        "description": "FileSorter source configuration (S3 bucket for unsorted files)",
        "required": [
          "data_container_id"
        ],
        "properties": {
          "data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "Data Container ID for the source bucket (DataDock is resolved automatically)"
          },
          "folder_prefix": {
            "type": "string",
            "description": "Optional folder prefix within the bucket",
            "nullable": true
          }
        }
      },
      "GetConsoleConfigResponse": {
        "type": "object",
        "required": [
          "bifrost_api_url",
          "bifrost_sql_endpoint",
          "console_service_account_client_id",
          "oidc_base_url",
          "oidc_expected_audiences",
          "feature_flags",
          "app_version",
          "sapience_api_url",
          "console_base_domain"
        ],
        "properties": {
          "app_version": {
            "type": "string"
          },
          "bifrost_api_url": {
            "type": "string"
          },
          "bifrost_sql_endpoint": {
            "type": "string"
          },
          "console_base_domain": {
            "type": "string",
            "description": "The base domain for the console (e.g., \"localhost\" for dev, \"hyperfluid.app\" for prod)."
          },
          "console_service_account_client_id": {
            "type": "string"
          },
          "feature_flags": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConsoleConfigFeatureFlag"
            }
          },
          "oidc_base_url": {
            "type": "string"
          },
          "oidc_expected_audiences": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "sapience_api_url": {
            "type": "string"
          }
        }
      },
      "GetFakerFieldTypesResponse": {
        "type": "object",
        "required": [
          "data",
          "templates"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FakerFieldType"
            }
          },
          "templates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FakerTableTemplate"
            }
          }
        }
      },
      "GetFakerSchemaResponse": {
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FakerSchemaOverview"
            }
          }
        }
      },
      "GetFakerTableResponse": {
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/FakerTableOverview"
          }
        }
      },
      "GetFakerTablesResponse": {
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FakerTableOverview"
            }
          }
        }
      },
      "GetRunResponse": {
        "type": "object",
        "required": [
          "run"
        ],
        "properties": {
          "run": {
            "$ref": "#/components/schemas/PipelineRun"
          }
        }
      },
      "Harbor": {
        "type": "object",
        "description": "A harbor is a collection of [DataDocks](super::datadock::Datadock)\nEach harbor belongs to an [Org](super::org::Org)\nEach harbor has an owner who is a [User](super::user::User)",
        "required": [
          "id",
          "name",
          "slug",
          "organization_id"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "owner_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "slug": {
            "type": "string"
          }
        }
      },
      "IcebergConnectorDataContainer": {
        "type": "object",
        "required": [
          "id",
          "data_dock_id",
          "name",
          "storage_data_dock",
          "s3_bucket"
        ],
        "properties": {
          "data_dock_id": {
            "type": "string",
            "format": "uuid"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "s3_bucket": {
            "type": "string"
          },
          "storage_data_dock": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "IcebergSchemaMetadata": {
        "type": "object",
        "required": [
          "id",
          "data_container_id",
          "schema_name",
          "medallion_tier",
          "cdc_enabled",
          "location",
          "creator_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "cdc_enabled": {
            "type": "boolean"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "creator_id": {
            "type": "string",
            "format": "uuid"
          },
          "data_container_id": {
            "type": "string",
            "format": "uuid"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "location": {
            "type": "string"
          },
          "medallion_tier": {
            "type": "string"
          },
          "schema_name": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "IcebergTableMetadata": {
        "type": "object",
        "description": "Iceberg table metadata stored in Hyperfluid",
        "required": [
          "id",
          "schema_id",
          "table_name",
          "ddl_statement",
          "creator_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "creator_id": {
            "type": "string",
            "format": "uuid"
          },
          "ddl_statement": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "schema_id": {
            "type": "string",
            "format": "uuid"
          },
          "table_name": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "IcebergTableResponseData": {
        "type": "object",
        "required": [
          "id",
          "schema_id",
          "table_name",
          "ddl_statement",
          "creator_id",
          "created_at",
          "updated_at",
          "data_container_id",
          "schema_name",
          "medallion_tier"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "creator_id": {
            "type": "string",
            "format": "uuid"
          },
          "data_container_id": {
            "type": "string",
            "format": "uuid"
          },
          "ddl_statement": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "medallion_tier": {
            "type": "string"
          },
          "schema_id": {
            "type": "string",
            "format": "uuid"
          },
          "schema_name": {
            "type": "string"
          },
          "table_name": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "LabelDefinition": {
        "type": "object",
        "description": "Label definition for document classification (Labelize step)\nSupports both static labels (id + description) and dynamic labels with placeholders.\n\nExample YAML format:\n```yaml\n- id: facture_eau\n  type: static\n  description: \"Water utility invoices\"\n- id: travaux\n  type: dynamic\n  description: \"Construction work documents\"\n  format: \"TRAVAUX/{year}/{date}-{work_name}\"\n  placeholders:\n    - id: year\n      source: \"Extract the year from the document\"\n      format: \"YYYY\"\n      rules: [\"Must be 4 digits\"]\n```",
        "required": [
          "category",
          "description"
        ],
        "properties": {
          "category": {
            "type": "string",
            "description": "Label category key (e.g., \"Factures/Eau\", \"Contrats/Entretien\")"
          },
          "description": {
            "type": "string",
            "description": "Human-readable description for LLM classification"
          }
        }
      },
      "ListContextProvidersResponse": {
        "type": "object",
        "description": "Response for list of context providers.",
        "required": [
          "providers"
        ],
        "properties": {
          "providers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContextProviderResponse"
            }
          }
        }
      },
      "ListContextualRestrictionsResponse": {
        "type": "object",
        "description": "Response for list of contextual restrictions.",
        "required": [
          "restrictions"
        ],
        "properties": {
          "restrictions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContextualRestrictionResponse"
            }
          }
        }
      },
      "ListRunsResponse": {
        "type": "object",
        "required": [
          "runs"
        ],
        "properties": {
          "runs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PipelineRun"
            }
          }
        }
      },
      "ListTableClassificationsResponse": {
        "type": "object",
        "description": "Response for list of table classifications.",
        "required": [
          "classifications"
        ],
        "properties": {
          "classifications": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TableClassificationResponse"
            }
          }
        }
      },
      "ListUserAttributesResponse": {
        "type": "object",
        "description": "Response containing a list of user attributes.",
        "required": [
          "attributes"
        ],
        "properties": {
          "attributes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of attributes in `namespace::value` format."
          }
        }
      },
      "MetadataStorageConfig": {
        "type": "object",
        "description": "Metadata storage configuration (Trino/Iceberg for document metadata)",
        "required": [
          "data_container_id",
          "schema_name",
          "table_name"
        ],
        "properties": {
          "data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "Data Container ID for the Iceberg catalog (DataDock is resolved automatically)"
          },
          "schema_name": {
            "type": "string",
            "description": "Trino schema name"
          },
          "table_name": {
            "type": "string",
            "description": "Trino table name"
          }
        }
      },
      "MinioInternalConfig": {
        "type": "object",
        "required": [
          "storage_size"
        ],
        "properties": {
          "storage_size": {
            "type": "integer",
            "format": "int32",
            "description": "Storage size in Gigabytes",
            "minimum": 0
          }
        }
      },
      "MinioInternalConfigResponse": {
        "type": "object",
        "required": [
          "storage_size"
        ],
        "properties": {
          "storage_size": {
            "type": "string"
          }
        }
      },
      "ModelConfig": {
        "type": "object",
        "description": "Extra configuration for the model serving instance.",
        "properties": {
          "extraArgs": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Extra CLI arguments passed to the runtime"
          },
          "maxModelLen": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum model context length (vLLM --max-model-len)",
            "minimum": 0,
            "nullable": true
          },
          "servedModelName": {
            "type": "string",
            "description": "Served model name override",
            "nullable": true
          },
          "storageUri": {
            "type": "string",
            "description": "Custom storage URI (e.g. s3:// or pvc://)",
            "nullable": true
          }
        }
      },
      "ModelResources": {
        "type": "object",
        "description": "Resource requests for the model serving instance.",
        "properties": {
          "cpu": {
            "type": "string",
            "description": "CPU request (e.g. \"2\", \"4\")"
          },
          "gpu": {
            "type": "integer",
            "format": "int32",
            "description": "Number of GPUs (0 for CPU-only)",
            "minimum": 0
          },
          "memory": {
            "type": "string",
            "description": "Memory request (e.g. \"8Gi\", \"16Gi\")"
          }
        }
      },
      "ModelRuntime": {
        "type": "string",
        "description": "Runtime engine for serving the model.",
        "enum": [
          "vllm",
          "tgi"
        ]
      },
      "ModelServingPhase": {
        "type": "string",
        "description": "Phase of the ModelServing lifecycle.",
        "enum": [
          "Pending",
          "Provisioning",
          "Ready",
          "Failed",
          "Terminating"
        ]
      },
      "ModelServingResponse": {
        "type": "object",
        "required": [
          "name",
          "display_name",
          "model_id",
          "runtime",
          "model_type",
          "resources",
          "config",
          "ready_replicas",
          "total_replicas"
        ],
        "properties": {
          "config": {
            "$ref": "#/components/schemas/ModelConfig"
          },
          "display_name": {
            "type": "string",
            "description": "Human-readable display name"
          },
          "endpoint": {
            "type": "string",
            "description": "OpenAI-compatible endpoint",
            "nullable": true
          },
          "model_id": {
            "type": "string",
            "description": "Model identifier"
          },
          "model_type": {
            "$ref": "#/components/schemas/ModelType"
          },
          "name": {
            "type": "string",
            "description": "CRD resource name"
          },
          "phase": {
            "$ref": "#/components/schemas/ModelServingPhase",
            "nullable": true
          },
          "ready_replicas": {
            "type": "integer",
            "format": "int32",
            "description": "Ready replicas",
            "minimum": 0
          },
          "resources": {
            "$ref": "#/components/schemas/ModelResources"
          },
          "runtime": {
            "$ref": "#/components/schemas/ModelRuntime"
          },
          "total_replicas": {
            "type": "integer",
            "format": "int32",
            "description": "Total desired replicas",
            "minimum": 0
          }
        }
      },
      "ModelType": {
        "type": "string",
        "description": "The type of model being served.",
        "enum": [
          "generation",
          "embedding"
        ]
      },
      "MultipartPartUrl": {
        "type": "object",
        "description": "Presigned URL for a single part in multipart upload",
        "required": [
          "part_number",
          "upload_url"
        ],
        "properties": {
          "part_number": {
            "type": "integer",
            "format": "int32",
            "description": "Part number (1-indexed as per S3 API)"
          },
          "upload_url": {
            "type": "string",
            "description": "Presigned URL for uploading this part"
          }
        }
      },
      "Org": {
        "type": "object",
        "description": "An organization is a collection of [Users](super::user::User) and [DataDocks](super::datadock::DataDock)",
        "required": [
          "id",
          "name",
          "slug",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          }
        }
      },
      "OrgSecuritySettingsResponse": {
        "type": "object",
        "description": "Response for organization security settings.",
        "required": [
          "organization_id",
          "office_hours_enabled",
          "zero_trust_mode",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "office_hours_enabled": {
            "type": "boolean"
          },
          "office_hours_end_utc": {
            "type": "string",
            "nullable": true
          },
          "office_hours_start_utc": {
            "type": "string",
            "nullable": true
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "zero_trust_mode": {
            "type": "boolean"
          }
        }
      },
      "OrgUserAttributesResponse": {
        "type": "object",
        "description": "Response for organization-wide user attributes (grouped by user).",
        "required": [
          "users"
        ],
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserAttributesEntry"
            },
            "description": "Map of user_id to their attributes."
          }
        }
      },
      "ParsedAttributeResponse": {
        "type": "object",
        "description": "Parsed attribute with separate namespace and value.",
        "required": [
          "namespace",
          "value"
        ],
        "properties": {
          "namespace": {
            "type": "string",
            "description": "Namespace part (e.g., \"region\")"
          },
          "value": {
            "type": "string",
            "description": "Value part (e.g., \"occitanie\")"
          }
        }
      },
      "PatchModelServingRequest": {
        "type": "object",
        "properties": {
          "replicas": {
            "type": "integer",
            "format": "int32",
            "description": "Target replica count for scaling",
            "minimum": 0,
            "nullable": true
          }
        }
      },
      "PipelineInputParameters": {
        "type": "object",
        "properties": {
          "dc_bucket_id": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the bucket Data Container (not required for Copy pipeline)",
            "nullable": true
          },
          "dd_minio": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the source MinIO Data Dock (not required for Copy pipeline)",
            "nullable": true
          },
          "default_route": {
            "$ref": "#/components/schemas/DestinationConfig",
            "nullable": true
          },
          "folder": {
            "type": "string",
            "nullable": true
          },
          "import_api_key": {
            "type": "string",
            "format": "password",
            "description": "Copy pipeline: Import API Key (source)",
            "nullable": true
          },
          "import_api_url": {
            "type": "string",
            "description": "Copy pipeline: Import API URL (source)",
            "nullable": true
          },
          "routing_rules": {
            "type": "object",
            "description": "FileRouter routing rules: label -> list of destinations\nExample: {\"type::invoice\": [DestinationConfig { data_dock_id: \"uuid\", bucket_id: \"uuid\", prefix: \"invoices/\" }]}",
            "additionalProperties": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/DestinationConfig"
              }
            },
            "nullable": true
          }
        }
      },
      "PipelineMetadata": {
        "type": "object",
        "description": "Pipeline metadata configuration (common to all pipeline types)",
        "required": [
          "name",
          "organization_id",
          "organization_slug"
        ],
        "properties": {
          "enabled": {
            "type": "boolean",
            "description": "Whether the pipeline is enabled (only applies to CronJobs)"
          },
          "name": {
            "type": "string",
            "description": "Pipeline name"
          },
          "one_off": {
            "type": "boolean",
            "description": "Whether this is a one-off job (true) or a scheduled CronJob (false)"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid",
            "description": "Organization ID"
          },
          "organization_slug": {
            "type": "string",
            "description": "Organization slug (used for Keycloak realm)"
          }
        }
      },
      "PipelineOutputParameters": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/TrinoOutputParameters"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "trino"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/S3OutputParameters"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "s3"
                    ]
                  }
                }
              }
            ]
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/FileSorterOutputParameters"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "filesorter"
                    ]
                  }
                }
              }
            ],
            "description": "FileSorter: HephaistosPdfeed + Labelize + CategoryRouterMetadataAware"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/CopyOutputParameters"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "copy"
                    ]
                  }
                }
              }
            ],
            "description": "Copy: Import from external API to S3 destination"
          }
        ]
      },
      "PipelineParameters": {
        "type": "object",
        "required": [
          "name",
          "type",
          "org_id",
          "org_slug",
          "one_off"
        ],
        "properties": {
          "enabled": {
            "type": "boolean",
            "description": "Whether the pipeline is enabled. Only applies to CronJob pipelines.\nWhen false, the CronJob will be suspended. Defaults to true (enabled)."
          },
          "name": {
            "type": "string"
          },
          "one_off": {
            "type": "boolean"
          },
          "org_id": {
            "type": "string",
            "format": "uuid"
          },
          "org_slug": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        }
      },
      "PipelineResponseData": {
        "type": "object",
        "required": [
          "id",
          "name",
          "type",
          "status",
          "org_id",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "org_id": {
            "type": "string",
            "format": "uuid"
          },
          "status": {
            "type": "boolean"
          },
          "type": {
            "type": "string"
          }
        }
      },
      "PipelineRun": {
        "type": "object",
        "required": [
          "id",
          "organization_id",
          "pipeline_id",
          "status",
          "files_scanned",
          "files_processed",
          "failures",
          "average_step_duration_millis",
          "run_duration_millis",
          "created_at",
          "updated_at",
          "last_heartbeat_at"
        ],
        "properties": {
          "average_step_duration_millis": {
            "type": "integer",
            "format": "int64"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "failures": {
            "type": "integer",
            "format": "int64"
          },
          "files_processed": {
            "type": "integer",
            "format": "int64"
          },
          "files_scanned": {
            "type": "integer",
            "format": "int64"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "last_heartbeat_at": {
            "type": "string",
            "format": "date-time"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "pipeline_id": {
            "type": "string",
            "format": "uuid"
          },
          "run_duration_millis": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "$ref": "#/components/schemas/PipelineRunStatus"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PipelineRunStatus": {
        "type": "string",
        "enum": [
          "pending",
          "running",
          "completed",
          "failed"
        ]
      },
      "PipelineType": {
        "type": "string",
        "enum": [
          "Markitdown",
          "HephaistosPdfeed",
          "Labelizer",
          "FileRouter",
          "Copy",
          "FileSorter"
        ]
      },
      "PostgresInternalConfig": {
        "type": "object",
        "required": [
          "instances",
          "storage_size"
        ],
        "properties": {
          "cpu": {
            "type": "string",
            "description": "CPU limit (e.g., \"500m\")",
            "nullable": true
          },
          "instances": {
            "type": "integer",
            "format": "int32",
            "description": "Number of PostgreSQL instances (1=standalone, 2+=HA with replicas)"
          },
          "memory": {
            "type": "string",
            "description": "Memory limit (e.g., \"1Gi\")",
            "nullable": true
          },
          "storage_size": {
            "type": "integer",
            "format": "int32",
            "description": "Storage size in Gigabytes",
            "minimum": 0
          }
        }
      },
      "PostgresInternalConfigResponse": {
        "type": "object",
        "required": [
          "instances",
          "storage_size"
        ],
        "properties": {
          "cpu": {
            "type": "string",
            "nullable": true
          },
          "instances": {
            "type": "integer",
            "format": "int32"
          },
          "memory": {
            "type": "string",
            "nullable": true
          },
          "storage_size": {
            "type": "string"
          }
        }
      },
      "PrepareArchiveImportRequest": {
        "type": "object",
        "required": [
          "destination_data_container_id",
          "destination_file_name",
          "file_size"
        ],
        "properties": {
          "destination_data_container_id": {
            "type": "string",
            "format": "uuid",
            "description": "The bucket where the zip file will be uploaded"
          },
          "destination_file_name": {
            "type": "string",
            "description": "The name of the zip file"
          },
          "destination_file_path": {
            "type": "string",
            "description": "Where the zip file will be stored in the bucket (optional path)",
            "nullable": true
          },
          "file_size": {
            "type": "integer",
            "format": "int64",
            "description": "The size of the file in bytes - determines upload strategy",
            "minimum": 0
          }
        }
      },
      "PrepareArchiveImportResponse": {
        "oneOf": [
          {
            "type": "object",
            "description": "Simple single PUT upload for files < 100MB",
            "required": [
              "upload_url",
              "file_path",
              "upload_type"
            ],
            "properties": {
              "file_path": {
                "type": "string",
                "description": "The full path where the file will be stored"
              },
              "upload_type": {
                "type": "string",
                "enum": [
                  "simple"
                ]
              },
              "upload_url": {
                "type": "string",
                "description": "Presigned PUT URL for uploading the file"
              }
            }
          },
          {
            "type": "object",
            "description": "Multipart upload for files >= 100MB",
            "required": [
              "upload_id",
              "file_path",
              "bucket",
              "key",
              "part_urls",
              "part_size",
              "upload_type"
            ],
            "properties": {
              "bucket": {
                "type": "string",
                "description": "The bucket name"
              },
              "file_path": {
                "type": "string",
                "description": "The full path where the file will be stored"
              },
              "key": {
                "type": "string",
                "description": "The object key in the bucket"
              },
              "part_size": {
                "type": "integer",
                "format": "int64",
                "description": "Size of each part in bytes (last part may be smaller)",
                "minimum": 0
              },
              "part_urls": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/MultipartPartUrl"
                },
                "description": "Presigned URLs for each part"
              },
              "upload_id": {
                "type": "string",
                "description": "S3 multipart upload ID"
              },
              "upload_type": {
                "type": "string",
                "enum": [
                  "multipart"
                ]
              }
            }
          }
        ],
        "description": "Response for preparing archive import - either simple upload or multipart"
      },
      "Ref": {
        "type": "object",
        "description": "A reference to a file in a storage bucket\nThis reference is created upon scanning a bucket and is used to track the\nstatus of the file through the pipeline.",
        "required": [
          "pipeline_id",
          "key",
          "pipeline_checksum",
          "status",
          "attempts",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "attempts": {
            "type": "integer",
            "format": "int64"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "error_message": {
            "type": "string",
            "nullable": true
          },
          "key": {
            "type": "string"
          },
          "locked_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "locked_by": {
            "type": "string",
            "format": "uuid",
            "description": "The ID of the pipeline run that locked the reference\nThis is used to track the progress of the pipeline run\nIf the pipeline run is unhealthy (missed a heartbeat), the reference\nwill be unlocked and the pipeline run will be considered failed.",
            "nullable": true
          },
          "pipeline_checksum": {
            "type": "string"
          },
          "pipeline_id": {
            "type": "string",
            "format": "uuid"
          },
          "status": {
            "$ref": "#/components/schemas/RefStatus"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "RefStatus": {
        "type": "string",
        "enum": [
          "pending",
          "done",
          "failed",
          "skipped"
        ]
      },
      "RefreshDataDocksResponse": {
        "type": "object",
        "required": [
          "refreshed_count",
          "total_count",
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          },
          "refreshed_count": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "total_count": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "Role": {
        "type": "object",
        "required": [
          "id",
          "name",
          "organization_id",
          "is_system",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "color": {
            "type": "string",
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "is_system": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "S3OutputParameters": {
        "type": "object"
      },
      "SensitivityLevel": {
        "type": "string",
        "description": "Sensitivity level for data classification",
        "enum": [
          "public",
          "internal",
          "confidential",
          "restricted"
        ]
      },
      "ServiceAccount": {
        "type": "object",
        "required": [
          "id",
          "organization_id",
          "iam_sa_id",
          "iam_sa_credentials_path",
          "iam_sa_client_id",
          "name",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "iam_sa_client_id": {
            "type": "string",
            "description": "The client_id of the Keycloak client."
          },
          "iam_sa_credentials_path": {
            "type": "string",
            "description": "The secret path in the secret store for the service account credentials."
          },
          "iam_sa_id": {
            "type": "string",
            "format": "uuid",
            "description": "This is the storage ID of the Keycloak client NOT the client_id."
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SetUserAttributesRequest": {
        "type": "object",
        "description": "Request to set all attributes for a user (replaces existing).",
        "required": [
          "attributes"
        ],
        "properties": {
          "attributes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of attributes in `namespace::value` format.\nExample: `[\"region::occitanie\", \"department::sales\"]`"
          }
        }
      },
      "Sha256HashDedupingStrategy": {
        "type": "object",
        "required": [
          "length",
          "flatten"
        ],
        "properties": {
          "flatten": {
            "type": "boolean",
            "description": "Whether to flatten directory structure (true) or preserve it (false)"
          },
          "length": {
            "type": "integer",
            "description": "Number of characters from SHA256 hash to use as suffix",
            "minimum": 0
          }
        }
      },
      "TableClassificationResponse": {
        "type": "object",
        "description": "Response for a table classification.",
        "required": [
          "id",
          "organization_id",
          "data_dock_id",
          "table_fqdn",
          "sensitivity",
          "compliance_tags",
          "ai_generated",
          "classified_at",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "ai_confidence": {
            "type": "number",
            "format": "float",
            "nullable": true
          },
          "ai_generated": {
            "type": "boolean"
          },
          "ai_reasoning": {
            "type": "string",
            "nullable": true
          },
          "classified_at": {
            "type": "string",
            "format": "date-time"
          },
          "classified_by": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "compliance_tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "data_dock_id": {
            "type": "string",
            "format": "uuid"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "organization_id": {
            "type": "string",
            "format": "uuid"
          },
          "sensitivity": {
            "$ref": "#/components/schemas/SensitivityLevel"
          },
          "table_fqdn": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "TableColumnResponse": {
        "type": "object",
        "required": [
          "name",
          "data_type"
        ],
        "properties": {
          "data_type": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "TableDataProductResponse": {
        "type": "object",
        "required": [
          "id",
          "table_name",
          "catalog_name",
          "schema_name",
          "data_dock_id",
          "data_dock_name",
          "data_dock_type",
          "column_count",
          "columns",
          "status",
          "data_dock_host",
          "data_dock_port"
        ],
        "properties": {
          "catalog_name": {
            "type": "string"
          },
          "column_count": {
            "type": "integer",
            "format": "int32"
          },
          "columns": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TableColumnResponse"
            }
          },
          "data_dock_host": {
            "type": "string"
          },
          "data_dock_id": {
            "type": "string"
          },
          "data_dock_name": {
            "type": "string"
          },
          "data_dock_port": {
            "type": "integer",
            "format": "int32"
          },
          "data_dock_type": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "last_refreshed": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "schema_name": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "table_name": {
            "type": "string"
          }
        }
      },
      "TemplateFakerField": {
        "type": "object",
        "required": [
          "name",
          "field_type",
          "type_name"
        ],
        "properties": {
          "field_type": {
            "type": "string"
          },
          "generator": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string"
          },
          "type_name": {
            "type": "string"
          }
        }
      },
      "TrinoConfigRequest": {
        "type": "object",
        "required": [
          "host",
          "port",
          "service_account_id",
          "service_account_secret",
          "token_issuer_endpoint"
        ],
        "properties": {
          "host": {
            "type": "string"
          },
          "port": {
            "type": "integer",
            "format": "int32"
          },
          "service_account_id": {
            "type": "string"
          },
          "service_account_secret": {
            "type": "string"
          },
          "token_issuer_endpoint": {
            "type": "string"
          }
        }
      },
      "TrinoConfigResponse": {
        "type": "object",
        "required": [
          "service_account_id",
          "service_account_secret",
          "token_issuer_endpoint"
        ],
        "properties": {
          "service_account_id": {
            "type": "string"
          },
          "service_account_secret": {
            "type": "string"
          },
          "token_issuer_endpoint": {
            "type": "string"
          }
        }
      },
      "TrinoInternalConfig": {
        "type": "object",
        "required": [
          "worker_replicas"
        ],
        "properties": {
          "coordinator_cpu": {
            "type": "string",
            "nullable": true
          },
          "coordinator_memory": {
            "type": "string",
            "nullable": true
          },
          "hash_partition_count": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "max_memory_per_node": {
            "type": "string",
            "nullable": true
          },
          "query_max_execution_time": {
            "type": "string",
            "nullable": true
          },
          "query_max_memory": {
            "type": "string",
            "nullable": true
          },
          "task_concurrency": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "worker_auto_scaling": {
            "$ref": "#/components/schemas/WorkerAutoScaling",
            "nullable": true
          },
          "worker_cpu": {
            "type": "string",
            "nullable": true
          },
          "worker_memory": {
            "type": "string",
            "nullable": true
          },
          "worker_replicas": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "TrinoInternalConfigResponse": {
        "type": "object",
        "required": [
          "worker_replicas"
        ],
        "properties": {
          "coordinator_cpu": {
            "type": "string",
            "nullable": true
          },
          "coordinator_memory": {
            "type": "string",
            "nullable": true
          },
          "hash_partition_count": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "max_memory_per_node": {
            "type": "string",
            "nullable": true
          },
          "query_max_execution_time": {
            "type": "string",
            "nullable": true
          },
          "query_max_memory": {
            "type": "string",
            "nullable": true
          },
          "task_concurrency": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "worker_auto_scaling": {
            "$ref": "#/components/schemas/WorkerAutoScalingResponse",
            "nullable": true
          },
          "worker_cpu": {
            "type": "string",
            "nullable": true
          },
          "worker_memory": {
            "type": "string",
            "nullable": true
          },
          "worker_replicas": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "TrinoOutputParameters": {
        "type": "object",
        "required": [
          "dd_trino_int",
          "dc_iceberg_id",
          "trino_schema",
          "trino_table"
        ],
        "properties": {
          "dc_iceberg_id": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the Iceberg catalog Data Container"
          },
          "dd_trino_int": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the Trino Data Dock"
          },
          "labels": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "nullable": true
          },
          "model_api_key": {
            "type": "string",
            "format": "password",
            "nullable": true
          },
          "model_name": {
            "type": "string",
            "nullable": true
          },
          "trino_schema": {
            "type": "string"
          },
          "trino_table": {
            "type": "string"
          }
        }
      },
      "UnifiedCatalogResponse": {
        "type": "object",
        "required": [
          "tables",
          "by_data_dock",
          "by_catalog",
          "by_schema",
          "search_index",
          "last_updated",
          "total_count",
          "data_dock_counts"
        ],
        "properties": {
          "by_catalog": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "by_data_dock": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "by_schema": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "data_dock_counts": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          },
          "last_updated": {
            "type": "string",
            "format": "date-time"
          },
          "search_index": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "tables": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/TableDataProductResponse"
            }
          },
          "total_count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "UpdateContextProviderBody": {
        "type": "object",
        "description": "Request to update a context provider.",
        "properties": {
          "config": {},
          "enabled": {
            "type": "boolean",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "sync_interval_seconds": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "UpdateContextualRestrictionBody": {
        "type": "object",
        "description": "Request to update a contextual restriction.",
        "properties": {
          "data_selector": {},
          "description": {
            "type": "string",
            "nullable": true
          },
          "enabled": {
            "type": "boolean",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "priority": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "user_requirement": {}
        }
      },
      "UpdateDataDockSecuritySettingsBody": {
        "type": "object",
        "description": "Request to update datadock security settings.",
        "properties": {
          "column_label_matching": {
            "type": "boolean",
            "nullable": true
          },
          "contextual_restrictions_enabled": {
            "type": "boolean",
            "nullable": true
          },
          "office_hours_override": {
            "type": "string",
            "description": "Office hours override: \"inherit\", \"enabled\", or \"disabled\"",
            "nullable": true
          },
          "read_only_mode": {
            "type": "boolean",
            "nullable": true
          },
          "rls_enabled_catalogs": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "rls_enabled_schemas": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "rls_enabled_tables": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "rls_label_column": {
            "type": "string",
            "nullable": true
          },
          "sensitivity_enforcement": {
            "type": "boolean",
            "nullable": true
          },
          "table_label_matching": {
            "type": "boolean",
            "nullable": true
          }
        }
      },
      "UpdateFakerTableRequest": {
        "type": "object",
        "required": [
          "fields"
        ],
        "properties": {
          "fields": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FakerTableFields"
            }
          }
        }
      },
      "UpdateOrgSecuritySettingsBody": {
        "type": "object",
        "description": "Request to update organization security settings.",
        "properties": {
          "office_hours_enabled": {
            "type": "boolean",
            "nullable": true
          },
          "office_hours_end_utc": {
            "type": "string",
            "nullable": true
          },
          "office_hours_start_utc": {
            "type": "string",
            "nullable": true
          },
          "zero_trust_mode": {
            "type": "boolean",
            "nullable": true
          }
        }
      },
      "UpdateRefRequest": {
        "type": "object",
        "required": [
          "key",
          "pipeline_id",
          "pipeline_checksum",
          "status",
          "attempts"
        ],
        "properties": {
          "attempts": {
            "type": "integer",
            "format": "int64"
          },
          "error_message": {
            "type": "string",
            "nullable": true
          },
          "key": {
            "type": "string"
          },
          "locked_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "pipeline_checksum": {
            "type": "string"
          },
          "pipeline_id": {
            "type": "string",
            "format": "uuid"
          },
          "status": {
            "$ref": "#/components/schemas/RefStatus"
          }
        }
      },
      "UpdateServiceAccountCrdRequestBody": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "UpdateTableClassificationBody": {
        "type": "object",
        "description": "Request to update a table classification.",
        "properties": {
          "compliance_tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "sensitivity": {
            "$ref": "#/components/schemas/SensitivityLevel",
            "nullable": true
          }
        }
      },
      "User": {
        "type": "object",
        "required": [
          "id",
          "oauth_id",
          "first_name",
          "last_name",
          "email",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "email": {
            "type": "string"
          },
          "first_name": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "last_name": {
            "type": "string"
          },
          "oauth_id": {
            "type": "string"
          }
        }
      },
      "UserAttributesEntry": {
        "type": "object",
        "description": "Entry for a single user's attributes.",
        "required": [
          "user_id",
          "attributes"
        ],
        "properties": {
          "attributes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of attributes in `namespace::value` format."
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "User ID."
          }
        }
      },
      "UserContextResponse": {
        "type": "object",
        "description": "Response for user context.",
        "required": [
          "user_id",
          "attributes",
          "attribute_sources"
        ],
        "properties": {
          "attribute_sources": {
            "type": "object",
            "description": "Maps attribute names to the provider name that supplied them.",
            "additionalProperties": {
              "type": "string"
            }
          },
          "attributes": {},
          "user_id": {
            "type": "string"
          }
        }
      },
      "UserWithRoles": {
        "allOf": [
          {
            "$ref": "#/components/schemas/User"
          },
          {
            "type": "object",
            "required": [
              "roles"
            ],
            "properties": {
              "roles": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          }
        ]
      },
      "WorkerAutoScaling": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "max_replicas": {
            "type": "integer",
            "format": "int32"
          },
          "min_replicas": {
            "type": "integer",
            "format": "int32"
          },
          "target_cpu_utilization": {
            "type": "integer",
            "format": "int32"
          },
          "target_memory_utilization": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "WorkerAutoScalingResponse": {
        "type": "object",
        "required": [
          "enabled",
          "min_replicas",
          "max_replicas",
          "target_cpu_utilization"
        ],
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "max_replicas": {
            "type": "integer",
            "format": "int32"
          },
          "min_replicas": {
            "type": "integer",
            "format": "int32"
          },
          "target_cpu_utilization": {
            "type": "integer",
            "format": "int32"
          },
          "target_memory_utilization": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Users",
      "description": "Users operations"
    },
    {
      "name": "Organizations",
      "description": "Organizations operations"
    },
    {
      "name": "Harbors",
      "description": "Harbors operations"
    },
    {
      "name": "Console Config",
      "description": "Console configuration"
    },
    {
      "name": "Service Accounts",
      "description": "Service Accounts operations"
    },
    {
      "name": "Security",
      "description": "Security settings and management"
    },
    {
      "name": "User Attributes",
      "description": "User attributes management for Row-Level Security (RLS)"
    },
    {
      "name": "Pipelines",
      "description": "Pipeline management operations"
    },
    {
      "name": "Model Serving",
      "description": "LLMaaS model serving operations"
    },
    {
      "name": "API Keys",
      "description": "LLMaaS API key management"
    },
    {
      "name": "Table Classifications",
      "description": "Table classification management"
    }
  ]
}
